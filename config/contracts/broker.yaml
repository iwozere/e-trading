$schema: "http://json-schema.org/draft-07/schema#"
title: BrokerContract
type: object
required: ["broker"]
properties:
  broker:
    type: object
    required: ["type", "trading_mode", "cash"]
    properties:
      type: { enum: ["binance", "ibkr", "file_broker"] }
      trading_mode: { enum: ["paper", "live"] }
      name: { type: "string" }
      cash: { type: "number", minimum: 0 }
      paper_trading_config:
        type: object
        properties:
          commission_rate: { type: "number" }
          slippage_model: { type: "string" }
          latency_simulation: { type: "boolean" }
          partial_fill_probability: { type: "number", minimum: 0, maximum: 1 }